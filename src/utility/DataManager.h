
////////////////////////////////////////////////////////////
// Preprocessor directives
////////////////////////////////////////////////////////////
#pragma once

////////////////////////////////////////////////////////////
// headers
////////////////////////////////////////////////////////////
#include <filesystem>
#include <nlohmann/json.hpp>

using json = nlohmann::json;

namespace steamrot {
class DataManager {

private:
  ////////////////////////////////////////////////////////////
  /// \brief check file exists, if not throw error
  ///
  ////////////////////////////////////////////////////////////
  void CheckFileExists(const std::filesystem::path &file_path);

  ////////////////////////////////////////////////////////////
  /// \brief load JSON data from file and return json object
  ///
  ////////////////////////////////////////////////////////////
  json LoadJsonData(const std::filesystem::path &file_path);

public:
  ////////////////////////////////////////////////////////////
  /// \brief Default constructor
  ///
  ////////////////////////////////////////////////////////////
  DataManager() = default;

  ////////////////////////////////////////////////////////////
  /// \brief load any relevent data from file storage
  ///
  ////////////////////////////////////////////////////////////
  void LoadData();

  ////////////////////////////////////////////////////////////
  /// \brief Load scene data from json
  ///
  ////////////////////////////////////////////////////////////
  json LoadSceneDataFromJson(std::string scene_identifier);
};

} // namespace steamrot
