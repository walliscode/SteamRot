////////////////////////////////////////////////////////////
// preprocessor directives
////////////////////////////////////////////////////////////
#pragma once

////////////////////////////////////////////////////////////
// headers
////////////////////////////////////////////////////////////
#include "CMeta.h"
#include "CShape.h"
#include <magic_enum/magic_enum.hpp>

namespace steamrot {
namespace components {

namespace containers {

////////////////////////////////////////////////////////////
// |brief: template helper struct
////////////////////////////////////////////////////////////
template <typename... Components> struct ComponentContainer;

////////////////////////////////////////////////////////////
// |brief: template specialistion for ComponentContainer. Tuples
////////////////////////////////////////////////////////////
template <typename... Components>
struct ComponentContainer<std::tuple<Components...>> {

  using ComponentVectorTuple = std::tuple<std::vector<Components>...>;
};
////////////////////////////////////////////////////////////
// |brief: ComponentRegister is a tuple of all the components for the game
//  "One source of truth"
////////////////////////////////////////////////////////////
typedef std::tuple<CMeta, CShape> ComponentRegister;

////////////////////////////////////////////////////////////
// |brief: size of the component register
////////////////////////////////////////////////////////////
constexpr size_t kComponentRegisterSize =
    std::tuple_size<ComponentRegister>::value;

////////////////////////////////////////////////////////////
// |brief: typedef for EntityMemoryPool
////////////////////////////////////////////////////////////
using EntityMemoryPool =
    ComponentContainer<ComponentRegister>::ComponentVectorTuple;

}; // namespace containers
}; // namespace components
}; // namespace steamrot
