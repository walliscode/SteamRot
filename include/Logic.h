#pragma once

#include "EntityMemoryPool.h"
#include "TypeDefs.h"
#include <memory>

class Logic {
public:
  ////////////////////////////////////////////////////////////
  /// \brief default constructor
  ///
  ////////////////////////////////////////////////////////////
  Logic(size_t update_frequency);

  ////////////////////////////////////////////////////////////
  /// \brief guard function for update frequency
  ///
  ////////////////////////////////////////////////////////////
  void RunLogic(size_t cycle, std::unique_ptr<EntityMemoryPool> &entities,
                const EntityIndicies &entity_indicies);

private:
  ////////////////////////////////////////////////////////////
  /// \brief Members
  ///
  ////////////////////////////////////////////////////////////
  size_t m_update_frequency; // how often to update the logic

  ////////////////////////////////////////////////////////////
  /// \brief Carries out Logic for the game
  ///
  ////////////////////////////////////////////////////////////
  virtual void ProcessLogic(std::unique_ptr<EntityMemoryPool> &entities,
                            const EntityIndicies &entity_indicies) = 0;
};
